<h1>This is New</h1>
<span id="info"></span>
<div class="row">
  <div class="col-md-12">
    <!-- BEGIN BASIC PORTLET-->
    <div class="portlet box blue">
      <div class="portlet-title">
        <div class="caption">
          <i class="fa fa-gift"></i>New <span id="counter"></span>
        </div>
        <div class="tools">
          <a href="javascript:;" class="collapse">
          </a>
          <a href="#portlet-config" data-toggle="modal" class="config">
          </a>
          <a href="javascript:;" class="reload">
          </a>
          <a href="javascript:;" class="remove">
          </a>
        </div>
      </div>
      <div class="portlet-body">
        <div id="googleMap" style="width:100%;height:500px;">
        </div>
      </div>
    </div>
    <!-- END BASIC PORTLET-->
  </div>
</div>


<script>

  var map;
  var marker;
  var infowindow;
  var start = new google.maps.LatLng(31.528854654816588, 74.28192257881165);
  var end = new google.maps.LatLng(31.525727008258347, 74.27833914756775);

  function initialize(){

    
  var mapProp = {
    center:new google.maps.LatLng(33.5190755, -111.9253654),
    zoom:12,
    mapTypeId:google.maps.MapTypeId.ROADMAP
    };

    map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

    // Polygon Coordinates
    var triangleCoords = [
      new google.maps.LatLng(33.5362475, -111.9267386),
      new google.maps.LatLng(33.5104882, -111.9627875),
      new google.maps.LatLng(33.5004686, -111.9027061)
    ];
    // Styling & Controls
    myPolygon = new google.maps.Polygon({
      paths: triangleCoords,
      draggable: true, // turn off if it gets annoying
      editable: true,
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35
    });

    myPolygon.setMap(map);
    //google.maps.event.addListener(myPolygon, "dragend", getPolygonCoords);
    google.maps.event.addListener(myPolygon.getPath(), "insert_at", getPolygonCoords);
    //google.maps.event.addListener(myPolygon.getPath(), "remove_at", getPolygonCoords);
    google.maps.event.addListener(myPolygon.getPath(), "set_at", getPolygonCoords);

  }

  google.maps.event.addDomListener(window, 'load', initialize);

  coordinates_array = []

  //Display Coordinates below map
  function getPolygonCoords() {
        coordinates_array = []
    console.log("getPolygonCoords called")
    var len = myPolygon.getPath().getLength();
    var htmlStr = "";
    for (var i = 0; i < len; i++) {
      console.log("enter loop")
      // htmlStr += "new google.maps.LatLng(" + myPolygon.getPath().getAt(i).toUrlValue(5) + "), ";
      //Use this one instead if you want to get rid of the wrap > new google.maps.LatLng(),
      htmlStr += " " + myPolygon.getPath().getAt(i).toUrlValue(5);
        coordinates_array.push(myPolygon.getPath().getAt(i).toUrlValue(5))
    }
    document.getElementById('info').innerHTML = htmlStr;
  }






</script>